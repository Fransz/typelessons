/* @import "src/less/bootstrap/bootstrap.less"; */

@import "variables.less";
@import "mixins/grid.less";
@import "mixins/center-block.less";
@import "mixins/clearfix.less";

@failColor: red;
@passColor: #7fff00;
@timeColor: blue;
@triesColor: darkorange;

#exam {
    .make-md-column(5);


    #teststring {
        visibility:hidden;

        width:22em;
        margin:1em auto 1em auto;
        border:2px solid black;

        font-size: 24px;
        color:gray;

        #content {
            margin: 0.25em 0.25em;
            white-space: nowrap;
            overflow:hidden;
        }
    }

    #teststring.fail {
        border: 2px solid @failColor;
        background-color: lighten(@failColor, 40);
    }


    #keyboard {
        display:table;
        .keyboardrow {
            .makekey(32px);
        }

        /* space character key. */
        #keyspace {
            width: 15.2em;
        }

        /* indent the keyboard rows. */
        .keyboardrow {
            margin-left: 1em;
        }
        .keyboardrow + .keyboardrow{
            margin-left: 2em;
        }
        .keyboardrow + .keyboardrow + .keyboardrow{
            margin-left: 3em;
        }
        .keyboardrow + .keyboardrow + .keyboardrow + .keyboardrow{
            margin-left: 1em;
        }
        .keyboardrow + .keyboardrow + .keyboardrow + .keyboardrow + .keyboardrow {
            margin-left: 10.4em;
        }
    }


    #scores {
        .make-md-column(11);
        .center-block();
        margin-top:5em;

        .pass, .fail, .time {
            .make-md-column(3);

            padding: 0 1em;
            text-align:center;

            -webkit-border-radius: 25px;
            -moz-border-radius: 25px;
            border-radius: 25px;

            .score {
                font-size:32px;
            }

            .glyphicon {
                vertical-align:text-bottom;
                margin-left:0.5em;
                font-size:32px;
            }
        }

        .pass {
            .make-md-column-offset(1);
            border: 4px solid @passColor;
            background-color: #ddffdd;     

            .glyphicon {
                color: @passColor;
            }
        }
        .fail {
            .make-md-column-offset(1);
            border: 4px solid @failColor;
            background-color: #ffdddd;     

            .glyphicon {
                color: @failColor;
            }
        }
        .time {
            .make-md-column-offset(1);
            border: 4px solid @timeColor;
            background-color: #ddddff;     
        }
    }
}


.makekey(@size) {
    .key {
        float:left;
        width: @size + floor(@size / 8);
        height: @size + floor(@size / 4);

        margin:0.2em 0.2em;
        border:2px solid black; 

        text-align:center;
        color: gray;

        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
    }

    .letter {
        font-size: @size;
        font-family:monospace;

        line-height: @size;
        vertical-align:top;
    }

    .key.fail {
        color: @failColor;
        border:2px solid @failColor;
    }

    .key.pass {
        color: @passColor;
        border:2px solid @passColor;
    }
}


#otherthenexam
{
    .make-md-column-offset(1);
    .make-md-column(4);

    #tasks {
        .taskgroupwrapper {
            .make-md-column(3);
            padding:0 0.1em;

            .taskgroupheader {
                margin:0.5em 0 0.5em 0;
                border: 2px solid lightyellow;
                h1 {
                    font-size:16px;
                    margin:0;
                    padding:0.5em 0.5em;
                    text-align:center;
                }

                .count {
                    font-size:12px;
                    text-align:center;
                }
            }

            .taskgroup {
                max-height: 400px;
                overflow:scroll;

                .task {
                    margin:0.2em 0px;
                    border: 1px solid yellow;
                    padding:0.5em 0.5em;
                        
                    .keyrow {
                        .clearfix();
                        .makekey(16px);

                        .key {
                            border:1px solid #dcdcdc;
                            padding-bottom:2px;
                        };
                    }

                    .key:nth-child(4) {
                        .clearfix();
                    }

                    .scores {
                        .clearfix();
                        margin:0.2em 0.0em 0 0.0em;

                        .pass, .time {
                            float:left;
                        }
                        .fail, .tries {
                            float:right;
                        }

                        .pass {
                            .glyphicon {
                                color: @passColor;
                            }
                        }
                        .fail {
                            .glyphicon {
                                color: @failColor;
                            }
                        }
                        .time {
                            clear:right;
                            .glyphicon {
                                visibility:hidden;
                                color: @timeColor;
                            }
                        }
                        .tries {
                            .glyphicon {
                                color: @triesColor;
                            }
                        }
                    }
                }
            }
        }
    }


    #appcontrols {
        margin:2em -15px;
        border:1px solid yellow;
        padding:0.5em 0.5em;

        button {
            border:2px solid gray;
            background-color:lightgray;
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
        }
    }

    #newtask {

        form {
            margin:2em -15px 1em;
            border:1px solid yellow;
            padding:0.5em 0.5em;

            .letterweightpairrows {
                .letterweightpairrow {
                    clear:both;

                    padding:0.5em 0;

                    label {
                        float:left;
                        width:3em;
                        margin:0;
                    }
                    label + input + label {
                        width:4em;
                        float:left;
                    }

                    input.letter {
                        float:left;
                        width:2em;
                        margin-right:1em;

                        line-height:1em;
                    }
                    input.weight {
                        float:left;
                        width:3em;
                        margin-right:0.1em;

                        line-height:1em;
                    }
                    span.delete {
                        float:left; 
                        margin-right:1em;
                        color: red;
                        padding:0.2em;
                    }

                    #newtaskinputspace {
                        float:left;
                        width:4em;
                    }
                }
            }

            #newtaskcontrols {
                clear:both;

                margin:2em 0 1em;

                button {
                    margin:1em 1em 0em 1em;

                    background-color:lightgray;
                    border:2px solid gray;
                    -webkit-border-radius: 5px;
                    -moz-border-radius: 5px;
                    border-radius: 5px;
                }
            }
        }

        .newtaskerror {
            margin:0em -15px;
            border:1px solid red;
            padding:0.2em;

            text-align:center;
            color:red;
        }
    }

    #taskdetail {
        display:none;

        margin:2em -15px 1em;
        border:1px solid yellow;
        padding:0.5em 0.5em;

        .keyrow, .weightrow {
            .clearfix();
            .makekey(32px);

            .key {
                border:1px solid #dcdcdc;
                padding-bottom:2px;
            };

            .legenda {
                float:left;
                border:none;
                width:5em;
                line-height:64px;
                vertical-align:bottom;
            }
        }
        .weightrow .key {
            border:none;
            line-height:16px;
        }

        .weightrow .legenda {
            line-height:20px;
        }

        .tries {
            .clearfix();

            .legenda, .score, .glyphicon {
                float:left;
            }

            .score, .glyphicon {
                font-size:32px;
                width: 36px;
                height: 40px;

                margin:0em 0.2em;
                color:gray;
            }

            .legenda {
                height: 32px;
                width:5em;
                line-height:48px;
            }

            .glyphicon {
                color: @triesColor;
                line-height:38px;
            }

        }

        .scores .avgscore, .scores .sumscore, .scores .lastscore{
            .clearfix();
            margin-top:1.5em;

            span, div {
                float:left;
            }

            .score, .glyphicon {
                font-size:32px;
                height: 40px;

                margin:0em 0.2em;
                color:gray;
            }

            .legenda {
                height: 32px;
                width:5em;
                line-height:48px;
            }

            .pass .glyphicon {
                color: @passColor;
            }
            .fail .glyphicon {
                color: @failColor;
            }
            .time .glyphicon {
                color: @timeColor;
            }
            .glyphicon {
                line-height:38px;
                width: 36px;
            }
        }

        .buttons {
            .clearfix();
            margin:2em 0 0 0;
            height:48px;
            button {
                float:left;
                margin:0 0 0 5.2em;

                background-color:lightgray;
                border:2px solid gray;
                -webkit-border-radius: 5px;
                -moz-border-radius: 5px;
                border-radius: 5px;
            }
            button + button {
                float:right;
                margin:0 5em 0 0em;
            }
        }

    }
}
